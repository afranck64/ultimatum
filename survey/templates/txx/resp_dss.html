{% extends "base.html" %}

{% block head%}
<title>Responder - The Ultimatum Bargaining Experiment</title>

<style>    
    img {
            display: block;
            margin: auto;
          }
          
          p {
            display: block;
            margin-top: 1em;
            margin-bottom: 1em;
            margin-left: 2em;
            margin-right: 2em;
          }
          
          form {
            display: block;
            margin-top: 1em;
            margin-bottom: 2em;
            margin-left: 2em;
            margin-right: 0;
          }
          
          form input {
          display: inline-block;
          }
        
        form .likert {
          list-style:none;
          width:100%;
          margin:0;
          padding: 10px 0 15px 0;
          display:block;
          border-bottom:1px solid #efefef;
        }
        h2.likert-header {
        padding-left:4.25%;
        margin:20px 0 0;
        }
        /* form .likert:last-of-type {border-bottom:0;} */
        form .likert:before {
          content: '';
          position:relative;
          top:11px;
          left:8%;
          display:block;
          background-color:#efefef;
          height:4px;
          width:85%;
        }
        @-moz-document url-prefix() {

            form .likert:before {
            content: '';
            position: relative;
            top:11px;
            left:0%;
            display:block;
            background-color:#efefef;
            height:4px;
            width:85%;
            }
        }
        form .likert li {
          display:inline-block;
          width:13.7%;
          text-align:center;
          vertical-align: top;
        }
        form .likert li input[type=radio] {
          display:block;
          position:relative;
          top:0;
          left:50%;
          margin-left:-6px;
          
        }
        form .likert li label {width:100%;
          font-size: 16px;
          font-weight: normal;
          display: inline-block;
        }
</style>
{% endblock %}

{% block header %}
    <h1 align="center">You have been randomly assigned the role of a RESPONDER</h1>
{% endblock %}
{% block content %}   
    <script>
        window.onload = function() {
            document.getElementById("feedback").style.display='none';
        }

        function show_feedback_questions() {
            document.getElementById("feedback").style.display='block';            
        }
    </script>
    <!-- <form method="GET" action=""> -->
    <!-- </form> -->
    <br>
    <br>

    <form action="" method="post">
            <p align="center">Select the Minimum Offer that You are Willing to Accept From the Dropdown Menu Below</p>
            {{ form.hidden_tag() }}
            <div align="center">
                <select name="min_offer" id="min_offer" required id="min_offer" onchange="show_feedback_questions()">
                    <option value="" selected disabled hidden>Select a value</option>
                    {% for value, label in offer_values.items() %}
                        <option value={{value}}>{{label}}</option>
                    {% endfor %}
                </select>
            </div>

            <br> <br> <br> <br> <br> <br> <br>

            <br>
            <br>
            <div align="center" id="feedback">
                <hr>
                <h3>Please indicate your agreement with each of the following statements.</h3>
                <br>
                <br>
                <label align="center" class="statement">I can understand why the AI-System could think i would accept a given offer.
                    <ul class='likert'>
                        {% for value, label in scalas.items() %}               
                        <li>
                            <label> <input type="radio" name="feedback_understanding" value="{{value}}" required>{{label}}</label>
                        </li>
                        {% endfor %}
                    </ul>
                </label>

                <label align="center" class="statement">It is hard for me to explain how the AI-System takes its decisions.
                    <ul class='likert'>
                        {% for value, label in scalas.items() %}               
                        <li>
                            <label> <input type="radio" name="feedback_explanation" value="{{value}}" required>{{label}}</label>
                        </li>
                        {% endfor %}
                    </ul>
                </label>

                <label align="center" class="statement">On average, recommendations of the AI-System allow PROPOSERS to gain the following share of the pie left by RESPONDERS:
                    <ul class='likert'>
                        {% for value, label in accuracy_scalas.items() %}               
                        <li>
                            <label> <input type="radio" name="feedback_accuracy" value="{{value}}" required>{{label}}</label>
                        </li>
                        {% endfor %}
                    </ul>
                </label>
            </div>
            <br>
            <br>
            <br>
            <br>
            <hr>
            
            <div align="center"> 
                    {{form.submit()}}
            </div>
        </div>
    </form>
{% endblock %}
