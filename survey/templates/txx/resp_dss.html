{% extends "base.html" %}

{% block head%}
<title>Responder - The Ultimatum Bargaining Experiment</title>

<style>
    form .likert:before {
    content: '';
    position:relative;
    top:11px;
    left:8%;
    display:block;
    background-color:#efefef;
    height:4px;
    width:83%;
    }
</style>
{% endblock %}

{% block header %}
    <h1 align="center">You have been randomly assigned the role of a RESPONDER</h1>
{% endblock %}
{% block content %}   
    <script>
        window.onload = function() {
            document.getElementById("feedback").style.display='none';
        }

        function show_feedback_questions() {
            document.getElementById("feedback").style.display='block';            
        }
    </script>
    <!-- <form method="GET" action=""> -->
    <!-- </form> -->
    <br>
    <br>

    <form action="" method="post">
            <p align="center">Select the Minimum Offer that You are Willing to Accept From the Dropdown Menu Below</p>
            {{ form.hidden_tag() }}
            <div align="center">
                <select name="min_offer" id="min_offer" required id="min_offer" onchange="show_feedback_questions()">
                    <option value="" selected disabled hidden>Select a value</option>
                    {% for value, label in offer_values.items() %}
                        <option value={{value}}>{{label}}</option>
                    {% endfor %}
                </select>
            </div>

            <br> <br> <br> <br> <br> <br> <br>

            <br>
            <br>
            <div align="center" id="feedback">
                <hr>
                <h3>Please indicate your agreement with each of the following statements.</h3>
                <br>
                <br>
                <label align="center" class="statement">I can understand why the AI-System could think i would accept a given offer.
                    <ul class='likert' style="display: block; list-style:none; border-bottom:1px solid #efefef; padding: 0;">
                        {% for value, label in scalas.items() %}               
                        <li style="display: inline-block; width: 13.5%; vertical-align: top; text-align: center;">
                            <label style="width: 100%; font-size: 16px; font-weight: normal;"> <input type="radio" name="feedback_understanding" value="{{value}}" required style="display: block; position: relative; top:0; left:50%; margin-left: -6px;">{{label}}</label>
                        </li>
                        {% endfor %}
                    </ul>
                </label>

                <label align="center" class="statement">It is hard for me to explain how the AI-System takes its decisions.
                    <ul class='likert' style="display: block; list-style:none; border-bottom:1px solid #efefef; padding: 0;">
                        {% for value, label in scalas.items() %}               
                        <li style="display: inline-block; width: 13.5%; vertical-align: top; text-align: center;">
                            <label style="width: 100%; font-size: 16px; font-weight: normal;"> <input type="radio" name="feedback_explanation" value="{{value}}" required style="display: block; position: relative; top:0; left:50%; margin-left: -6px;">{{label}}</label>
                        </li>
                        {% endfor %}
                    </ul>
                </label>

                <label align="center" class="statement">On average recommendations of the AI-System allow PROPOSERS to gain the following share of the pie left by RESPONDERS (pie - min_offer):
                    <ul class='likert' style="display: block; list-style:none; border-bottom:1px solid #efefef; padding: 0;">
                        {% for value, label in accuracy_scalas.items() %}               
                        <li style="display: inline-block; width: 13.5%; vertical-align: top; text-align: center;">
                            <label style="width: 100%; font-size: 16px; font-weight: normal;"> <input type="radio" name="feedback_accuracy" value="{{value}}" required style="display: block; position: relative; top:0; left:50%; margin-left: -6px;">{{label}}</label>
                        </li>
                        {% endfor %}
                    </ul>
                </label>
            </div>
            <br>
            <br>
            <br>
            <br>
            <hr>
            
            <div align="center"> 
                    {{form.submit()}}
            </div>
        </div>
    </form>
{% endblock %}
